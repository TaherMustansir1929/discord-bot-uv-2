version: '3.8'

services:
  discord-bot:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: discord-bot
    env_file:
      - .env
    restart: unless-stopped
    volumes:
      # Cache UV dependencies to speed up rebuilds
      - uv-cache:/tmp/uv-cache
      # Optional: Mount logs directory
      # - ./logs:/app/logs
    
    # Optional: Resource limits
    # deploy:
    #   resources:
    #     limits:
    #       memory: 512M
    #       cpus: '0.5'
    #     reservations:
    #       memory: 256M
    #       cpus: '0.25'

volumes:
  uv-cache:
    driver: local